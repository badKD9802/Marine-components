<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 상세정보</title>
    <!-- 스타일은 index.html과 비슷하게 가져오거나 style.css로 분리하는 게 좋음 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .back-btn { display: inline-block; margin-bottom: 20px; padding: 10px 20px; background: #eee; border-radius: 5px; text-decoration: none; color: #333; }
        .detail-container { display: flex; flex-wrap: wrap; gap: 30px; }
        .detail-img { max-width: 100%; width: 400px; border-radius: 10px; }
        .detail-info { flex: 1; }
        .part-no { background: #e3f2fd; color: #0056b3; padding: 5px 10px; border-radius: 5px; font-weight: bold; font-size: 0.9rem; }
        h1 { margin: 15px 0; }
        .price { font-size: 1.5rem; font-weight: bold; color: #d32f2f; }
        .desc { margin-top: 20px; line-height: 1.6; color: #555; border-top: 1px solid #eee; padding-top: 20px; }
        .buy-btn { display: block; width: 100%; background: #0056b3; color: white; text-align: center; padding: 15px; margin-top: 30px; border-radius: 8px; font-size: 1.2rem; cursor: pointer; border: none; }
    </style>
</head>
<body>

    <a href="index.html" class="back-btn">← 목록으로 돌아가기</a>

    <div id="productDetail" class="detail-container">
        <!-- 자바스크립트가 여기에 내용을 채웁니다 -->
        <p>상품 정보를 불러오는 중...</p>
    </div>

    <!-- 1. 데이터 파일 불러오기 -->
    <script src="js/data.js"></script>
    
    <script>
        // 2. URL에서 'id' 값 가져오기 (예: detail.html?id=2 -> 2를 가져옴)
        const urlParams = new URLSearchParams(window.location.search);
        const productId = parseInt(urlParams.get('id')); // 숫자로 변환
        
        // 3. 데이터에서 해당 ID의 상품 찾기
        const product = products.find(p => p.id === productId);

        // 4. 화면에 그리기
        const container = document.getElementById('productDetail');

        if (!product) {
            container.innerHTML = "<h2>상품을 찾을 수 없습니다.</h2>";
        } else {
            // 현재 언어 설정 (일단 ko로 고정, 필요하면 localStorage로 연동 가능)
            const lang = 'ko'; 

            container.innerHTML = `
                <div>
                    <img src="${product.image}" class="detail-img" onerror="this.onerror=null; this.src='https://via.placeholder.com/400'">
                </div>
                <div class="detail-info">
                    <span class="part-no">Part No: ${product.partNo}</span>
                    <h1>${product.name[lang]}</h1>
                    <p class="price">${product.price}원</p>
                    
                    <div class="desc">
                        <h3>상세 설명</h3>
                        <p>${product.detailInfo ? product.detailInfo[lang] : product.desc[lang]}</p>
                    </div>

                    <button class="buy-btn" onclick="alert('전화 문의 부탁드립니다: 010-4056-2656')">구매 문의하기</button>
                </div>
            `;
        }
    </script>
</body>
</html>